(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[2],{159:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a={initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{ease:"easeOut",duration:.3}}},182:function(t,e,n){t.exports={list:"ContactList_list__2T7aG",item:"ContactList_item__3YsZK",btn:"ContactList_btn__1Xk4q"}},189:function(t,e,n){t.exports={form:"ContactForm_form__1fuOn",label:"ContactForm_label__378f8",input:"ContactForm_input__gm87B",btn:"ContactForm_btn__2Bpnz"}},190:function(t,e,n){t.exports={label:"Filter_label__3DcZT",input:"Filter_input__2DoVp"}},191:function(t,e,n){t.exports={wrapper:"ContactsView_wrapper__CCOvq"}},217:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return T}));var a={};n.r(a),n.d(a,"fetchContacts",(function(){return l})),n.d(a,"addContact",(function(){return b})),n.d(a,"deleteContact",(function(){return j}));var c={};n.r(c),n.d(c,"getContacts",(function(){return d})),n.d(c,"getLoading",(function(){return h})),n.d(c,"getError",(function(){return m})),n.d(c,"getFilter",(function(){return O})),n.d(c,"getVisibleContacts",(function(){return p}));var r=n(0),i=n(13),o=n(11),s=n(29),u=n.n(s);u.a.defaults.baseURL="http://localhost:4040";var l=function(){return function(t){t(Object(o.fetchContactsRequest)()),u.a.get("/contacts").then((function(e){var n=e.data;return t(Object(o.fetchContactsSuccess)(n))})).catch((function(e){return t(Object(o.fetchContactsError)(e))}))}},b=function(t,e){return function(n){var a={name:t,number:e};n(Object(o.addContactRequest)()),function(t){return u.a.post("/contacts",t)}(a).then((function(t){var e=t.data;return n(Object(o.addContactSuccess)(e))})).catch((function(t){return n(Object(o.addContactError)(t))}))}},j=function(t){return function(e){e(Object(o.deleteContactRequest)()),function(t){return u.a.delete("/contacts/".concat(t))}(t).then((function(){return e(Object(o.deleteContactSuccess)(t))})).catch((function(t){return e(Object(o.deleteContactError)(t))}))}},f=n(41),d=function(t){return t.contacts.items},h=function(t){return t.contacts.isLoading},m=function(t){return t.contacts.error},O=function(t){return t.contacts.filter},p=Object(f.a)([d,O],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),C=n(214),x=n(183),v=n.n(x),_=n(215),g=n(218),k=n(159),w=n(182),N=n.n(w),L=n(3);var y=function(){var t=Object(i.b)(),e=Object(i.c)(c.getVisibleContacts),n=Object(i.c)(c.getContacts);return Object(L.jsxs)(L.Fragment,{children:[n.length>0&&Object(L.jsx)(_.a.ul,{className:N.a.list,children:Object(L.jsx)(g.a,{children:e.map((function(e){var n=e.id,c=e.name,r=e.number;return Object(L.jsxs)(_.a.li,{className:N.a.item,initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:k.a,children:[Object(L.jsxs)("p",{className:N.a.info,children:[Object(L.jsx)("b",{children:c}),Object(L.jsx)("em",{children:r})]}),Object(L.jsx)(C.a,{"aria-label":"delete",color:"secondary",type:"button",onClick:function(){return t(a.deleteContact(n))},children:Object(L.jsx)(v.a,{})})]},n)}))})}),!n.length&&Object(L.jsx)(g.a,{children:Object(L.jsx)(_.a.p,{initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:k.a,children:"Your phonebook is empty. Please add contact."})})]})},F=n(51),E=n(188),S=n(144),q=n(28),R=n(189),V=n.n(R);var D=function(){var t=Object(i.b)(),e=Object(i.c)(c.getContacts),n=Object(i.c)(c.getLoading),o=Object(r.useState)(""),s=Object(F.a)(o,2),u=s[0],l=s[1],b=Object(r.useState)(""),j=Object(F.a)(b,2),f=j[0],d=j[1],h=function(t){var e=t.target,n=e.name,a=e.value;switch(n){case"name":l(a);break;case"number":d(a);break;default:return}},m=function(){l(""),d("")};return Object(L.jsxs)("form",{className:V.a.form,onSubmit:function(n){n.preventDefault(),!function(t){return e.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))}(u)?!function(t){return e.find((function(e){return e.number===t}))}(f)?!function(t,e){return""===t.trim()||""===e.trim()}(u,f)?!function(t){return!/\d{3}[-]\d{2}[-]\d{2}/g.test(t)}(f)?t(a.addContact(u,f)):q.b.error("\ud83d\udca9 Enter the correct number phone!"):q.b.info("\ud83d\ude31 Enter the contact's name and number phone!"):Object(q.b)("\ud83e\udd14 ".concat(f," is already in the phonebook.")):Object(q.b)("\ud83e\udd14 ".concat(u," is already in the phonebook.")),m()},children:[Object(L.jsxs)("label",{className:V.a.label,children:["Name",Object(L.jsx)("input",{className:V.a.input,type:"text",name:"name",value:u,onChange:h,placeholder:"Ivan Ivanov"})]}),Object(L.jsxs)("label",{className:V.a.label,children:["Number",Object(L.jsx)(E.a,{placeholder:"Enter phone number",format:"(###) ###-##-##",mask:"_",pattern:"^[0-9\\s\\(\\)\\-]{15}",type:"tel",name:"number",value:f,onChange:h,className:V.a.input})]}),!n&&Object(L.jsx)(S.a,{variant:"contained",color:"secondary",size:"large",type:"submit",children:"Add contact"})]})},z=n(190),B=n.n(z);var I=function(){var t=Object(i.b)(),e=Object(i.c)(c.getFilter),n=Object(i.c)(c.getContacts);return Object(L.jsx)(L.Fragment,{children:n.length>0&&Object(L.jsx)(g.a,{children:Object(L.jsx)("label",{className:B.a.label,children:Object(L.jsx)(_.a.input,{initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:k.a,className:B.a.input,type:"text",value:e,onChange:function(e){return t(o.filterContact(e.target.value))}})})})})},J=n(191),P=n.n(J);function T(){var t=Object(i.b)();return Object(r.useEffect)((function(){return t(a.fetchContacts())}),[t]),Object(L.jsxs)("div",{className:P.a.wrapper,children:[Object(L.jsx)("h1",{children:"Phonebook"}),Object(L.jsx)(D,{}),Object(L.jsx)("h2",{children:"Contacts"}),Object(L.jsx)(I,{}),Object(L.jsx)(y,{})]})}}}]);
//# sourceMappingURL=contacts-view.b3181b69.chunk.js.map